<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>WEB ã‚®ãƒ£ãƒ©ãƒªãƒ¼</title>
  <link rel="stylesheet" href="./css/result.css" />
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>WEB ã‚®ãƒ£ãƒ©ãƒªãƒ¼</h1>
      <p>å‰µé€ æ€§ã¨æŠ€è¡“ã®èåˆ</p>
    </div>

    <div class="gallery-grid" id="gallery"></div>
  </div>

  <!-- ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ -->
  <div id="modal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal()">&times;</span>
      <div class="modal-image" id="modalImage"></div>
      <h2 id="modalTitle">ä½œå“ã‚¿ã‚¤ãƒˆãƒ«</h2>
      <p id="modalDescription">ä½œå“ã®è©³ç´°èª¬æ˜</p>
      <div class="artwork-software" id="modalSoftware">ä½¿ç”¨ã‚½ãƒ•ãƒˆ</div>
      <div class="artwork-details">
        <span id="modalDate">åˆ¶ä½œæ—¥</span>
      </div>
    </div>
  </div>

  <!-- ä½œå“è¿½åŠ ãƒœã‚¿ãƒ³ -->
  <button class="add-artwork-btn" onclick="openAddModal()" title="ä½œå“ã‚’è¿½åŠ ">+</button>

  <!-- ä½œå“è¿½åŠ ãƒ¢ãƒ¼ãƒ€ãƒ« -->
  <div id="addModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeAddModal()">&times;</span>
      <h2>æ–°ã—ã„ä½œå“ã‚’è¿½åŠ </h2>
      <form id="addArtworkForm">
        <div class="form-group">
          <label for="artworkTitle">ä½œå“ã‚¿ã‚¤ãƒˆãƒ«</label>
          <input type="text" id="artworkTitle" name="title" required />
        </div>
        <div class="form-group">
          <label for="artworkDescription">ä½œå“èª¬æ˜</label>
          <textarea id="artworkDescription" name="description" required></textarea>
        </div>
        <div class="form-group">
          <label for="artworkSoftware">ä½¿ç”¨ã‚½ãƒ•ãƒˆ</label>
          <select id="artworkSoftware" name="software" required>
            <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
            <option value="Adobe Photoshop">Adobe Photoshop</option>
            <option value="Adobe Illustrator">Adobe Illustrator</option>
            <option value="Blender">Blender</option>
            <option value="Procreate">Procreate</option>
            <option value="Clip Studio Paint">Clip Studio Paint</option>
            <option value="Maya">Maya</option>
            <option value="3ds Max">3ds Max</option>
            <option value="Cinema 4D">Cinema 4D</option>
            <option value="ãã®ä»–">ãã®ä»–</option>
          </select>
        </div>
        <div class="form-group">
          <label for="artworkDate">åˆ¶ä½œæ—¥</label>
          <input type="month" id="artworkDate" name="date" required />
        </div>
        <div class="form-buttons">
          <button type="button" class="cancel-btn" onclick="closeAddModal()">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
          <button type="submit" class="submit-btn">ä½œå“ã‚’è¿½åŠ </button>
        </div>
      </form>
    </div>
  </div>

  <script>
    // ä½œå“ãƒ‡ãƒ¼ã‚¿
    let artworks = [
      {
        title: "æŠ½è±¡çš„ãªå¤¢",
        description: "è‰²å½©ã¨å½¢ã®èª¿å’Œã‚’è¡¨ç¾ã—ãŸæŠ½è±¡çš„ãªãƒ‡ã‚¸ã‚¿ãƒ«ä½œå“ã§ã™ã€‚",
        software: "Adobe Photoshop",
        date: "2024å¹´12æœˆ",
        image: "./images/T-shirt.jpg"
      },
      {
        title: "æœªæ¥éƒ½å¸‚",
        description: "ã‚µã‚¤ãƒãƒ¼ãƒ‘ãƒ³ã‚¯ã®ä¸–ç•Œè¦³ã‚’è¡¨ç¾ã—ãŸ3Dã‚¢ãƒ¼ãƒˆä½œå“ã€‚",
        software: "Blender",
        date: "2024å¹´11æœˆ",
        image: "ğŸ–¼ï¸ ã‚µãƒ³ãƒ—ãƒ«ç”»åƒ"
      },
      {
        title: "è‡ªç„¶ã®èª¿å’Œ",
        description: "æ°´å½©ç”»ã®ã‚ˆã†ãªæŸ”ã‚‰ã‹ãªã‚¿ãƒƒãƒã§è‡ªç„¶ã‚’æãã¾ã—ãŸã€‚",
        software: "Procreate",
        date: "2024å¹´10æœˆ",
        image: "ğŸŒº ã‚µãƒ³ãƒ—ãƒ«ç”»åƒ"
      }
    ];

    // ã‚®ãƒ£ãƒ©ãƒªãƒ¼å†æç”»
    function renderGallery() {
      const gallery = document.getElementById('gallery');
      gallery.innerHTML = '';
      artworks.forEach((artwork, index) => {
        const card = document.createElement('div');
        card.className = 'artwork-card';
        card.innerHTML = `
          <div class="artwork-image">
            ${artwork.image.endsWith(".jpg") || artwork.image.endsWith(".png") ? 
              `<img src="${artwork.image}" alt="${artwork.title}" />` : 
              `<span>${artwork.image}</span>`}
          </div>
          <div class="artwork-content">
            <h3 class="artwork-title">${artwork.title}</h3>
            <p class="artwork-description">${artwork.description}</p>
            <div class="project-tags">
              <span class="tag">HTML5</span>
              <span class="tag">CSS3</span>
              <span class="tag">JavaScript</span>
              <span class="tag">XD</span>
            </div>
            <div class="artwork-details">
              <span class="artwork-date">${artwork.date}</span>
              <button class="view-button" onclick="openModal(${index})">è©³ç´°ã‚’è¦‹ã‚‹</button>
            </div>
          </div>`;
        gallery.appendChild(card);
      });
    }

    // ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‹ã
    function openModal(index) {
      const artwork = artworks[index];
      document.getElementById('modalTitle').textContent = artwork.title;
      document.getElementById('modalDescription').textContent = artwork.description;
      document.getElementById('modalSoftware').textContent = artwork.software;
      document.getElementById('modalDate').textContent = artwork.date;
      document.getElementById('modalImage').innerHTML =
        artwork.image.endsWith(".jpg") || artwork.image.endsWith(".png")
          ? `<img src="${artwork.image}" alt="${artwork.title}" style="max-width:100%; border-radius:10px;">`
          : `<span style="font-size:3rem;">${artwork.image}</span>`;
      document.getElementById('modal').style.display = 'block';
    }

    function closeModal() {
      document.getElementById('modal').style.display = 'none';
    }

    function openAddModal() {
      document.getElementById('addModal').style.display = 'block';
    }

    function closeAddModal() {
      document.getElementById('addModal').style.display = 'none';
      document.getElementById('addArtworkForm').reset();
    }

    function addArtwork(title, description, software, date) {
      const artwork = {
        title,
        description,
        software,
        date,
        image: "ğŸ¨ æ–°ã—ã„ä½œå“"
      };
      artworks.push(artwork);
      renderGallery();
    }

    document.getElementById('addArtworkForm').addEventListener('submit', function (e) {
      e.preventDefault();
      const title = document.getElementById('artworkTitle').value;
      const description = document.getElementById('artworkDescription').value;
      const software = document.getElementById('artworkSoftware').value;
      const dateInput = document.getElementById('artworkDate').value;
      const [year, month] = dateInput.split('-');
      const date = `${year}å¹´${month}æœˆ`;
      addArtwork(title, description, software, date);
      closeAddModal();
    });

    window.onclick = function (event) {
      const modal = document.getElementById('modal');
      const addModal = document.getElementById('addModal');
      if (event.target === modal) closeModal();
      if (event.target === addModal) closeAddModal();
    };

    // åˆæœŸè¡¨ç¤º
    renderGallery();
  </script>
</body>
</html>
